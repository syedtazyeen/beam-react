import{c as h,j as e,u as x,r as c,b,d as p,a as f,e as g,O as v}from"./index-BO0DeBpE.js";import{I as r,T as j}from"./ToggleButton-BojE4Rkp.js";import{u}from"./use-router-DVooktSv.js";import{M as w}from"./MenuDropDown-FvW60EBN.js";import{L as N}from"./LoadingView-CM9m6E7b.js";import"./Textarea-BY6rh0iC.js";import"./styled-components.browser.esm-C1LfnyJe.js";import"./CircularLoading-2PuJ8enf.js";const P=({label:t,path:s,iconPath:a})=>{const n=u(),i=h().pathname.endsWith(s),o=`
    flex
    items-center
    gap-2
    p-2
    font-semibold
    text-sm
    rounded-[var(--borderRadiusPrimary)] 
    ${i?"bg-[var(--primaryMainColor)] text-[white]":"hover:bg-[#8b8b8b50]"}
    
    `,d=`
        w-5
        ${i?"invert-[100]":"invert-[var(--invertValue)]"}
    `;return e.jsxs("button",{className:o,onClick:()=>n.push(s),children:[e.jsx("img",{className:d,src:a}),t]})},S=({handleSidebar:t})=>{const{data:s}=x(),[a,n]=c.useState(!1),l=b(),{reload:i,push:o}=u();c.useEffect(()=>{console.log(s)},[s]);const d=()=>e.jsxs(w,{open:a,children:[e.jsxs("div",{className:"flex items-center gap-2 p-1 pb-4 mb-2 border-b border-[#8b8b8b20]",children:[e.jsx("div",{className:"w-10 h-10 bg-[#8b8b8b50] rounded-full"}),e.jsxs("div",{className:"text-start",children:[e.jsx("p",{className:"font-medium text-sm",children:s==null?void 0:s.data[0].username}),e.jsx("p",{className:"font-medium text-xs opacity-50",children:s==null?void 0:s.data[0].email})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx(r,{width:"full",label:"Back to Beams",iconPath:"/icons/home.svg",onClick:()=>{o("/")}}),e.jsx(r,{width:"full",label:"Logout",iconPath:"/icons/logout.svg",onClick:()=>{l(p()),i()}}),e.jsx(r,{width:"full",label:"Dark theme",iconPath:"/icons/moon.svg",onClick:()=>{},children:e.jsx("div",{className:"flex-1 flex justify-end scale-[.8]",children:e.jsx(j,{toggled:!1,onToggle:function(){throw new Error("Function not implemented.")}})})})]})]});return e.jsxs("div",{className:"w-full h-[3rem] px-[.55rem] flex items-center justify-between bg-[var(--paperColor)] shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r,{onClick:t,iconPath:"/icons/menu.svg"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{className:"w-6",src:"/logo.svg"}),e.jsx("p",{className:"font-bold text-lg",children:"Studio"})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(r,{onClick:()=>null,iconPath:"/icons/bell.svg"}),e.jsxs("button",{className:"relative rounded-[var(--borderRadiusPrimary)]",children:[e.jsx(r,{onClick:()=>n(m=>!m),iconPath:"/icons/user.svg"}),d()]})]})]})},C=[{label:"Home",path:"/studio",iconPath:"/icons/home.svg"},{label:"Stream",path:"/studio/stream",iconPath:"/icons/cast.svg"},{label:"Events",path:"/studio/events",iconPath:"/icons/event.svg"},{label:"Settings",path:"/studio/settings",iconPath:"/icons/settings.svg"}],y=()=>e.jsx("div",{style:{userSelect:"none"},className:"flex flex-col gap-1",children:C.map(t=>e.jsx(P,{path:t.path,iconPath:t.iconPath,label:t.label},t.label))}),R=()=>{const[t,s]=c.useState(!0),{token:a}=f(o=>o.auth),n=u(),{setRedirectPath:l}=g(),i=c.useCallback(()=>{s(o=>!o)},[]);return c.useEffect(()=>{a?l(null):(l(window.location.pathname),n.replace("/login"))},[a,n,l]),a?e.jsxs("div",{className:"fixed w-full h-screen",children:[e.jsx(S,{handleSidebar:i}),e.jsxs("div",{className:"flex h-[calc(100%-3rem)]",children:[t&&e.jsx("div",{className:"w-[14rem] h-full p-2 bg-[var(--paperColor)] shadow-md",children:e.jsx(y,{})}),e.jsx(c.Suspense,{fallback:e.jsx(N,{}),children:e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx(v,{})})})]})]}):null};export{R as default};
